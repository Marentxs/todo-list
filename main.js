(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var s={},i=[],c=0;c<t.length;c++){var a=t[c],d=o.base?a[0]+o.base:a[0],p=s[d]||0,l="".concat(d," ").concat(p);s[d]=p+1;var u=n(l),h={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var f=r(h,o);o.byIndex=c,e.splice(c,0,{identifier:l,updater:f,references:1})}i.push(l)}return i}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var s=o(t=t||[],r=r||{});return function(t){t=t||[];for(var i=0;i<s.length;i++){var c=n(s[i]);e[c].references--}for(var a=o(t,r),d=0;d<s.length;d++){var p=n(s[d]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}s=a}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,o,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(o)for(var c=0;c<this.length;c++){var a=this[c][0];null!=a&&(i[a]=!0)}for(var d=0;d<t.length;d++){var p=[].concat(t[d]);o&&i[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),e.push(p))}},e}},365:(t,e,n)=>{n.d(e,{A:()=>c});var o=n(601),r=n.n(o),s=n(314),i=n.n(s)()(r());i.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap);"]),i.push([t.id,'*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n* {\n  margin: 0;\n}\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\n#root,\n#__next {\n  isolation: isolate;\n}\n\nbody {\n  font-family: "Press Start 2P", cursive;\n  background-color: #008080;\n  color: #000;\n  min-height: 100vh;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.main-wrapper {\n  flex: 1;\n  display: grid;\n  grid-template-columns: 1fr 6fr;\n  height: 100vh;\n  gap: 10px;\n}\n\n.project-side {\n  background: #c0c0c0;\n  border-right: 3px ridge #fff;\n  padding: 30px 20px;\n  display: flex;\n  flex-direction: column;\n}\n\n.project-side h1 {\n  margin: 0.5rem 0;\n  font-size: 3rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n}\n\n#newProjectBtn {\n  background: #c0c0c0;\n  color: #000;\n  border: 3px outset #fff;\n  padding: 16px 20px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 1.2rem;\n  text-align: left;\n  border-radius: 0;\n  margin: 10px 0;\n  font-weight: 700;\n  letter-spacing: 0.05ch;\n}\n\n#newProjectBtn:hover {\n  background-color: #000080;\n  color: #fff;\n  border: 3px outset #fff;\n}\n\n#newProjectBtn:active {\n  background-color: #000080;\n  transform: translateY(2px);\n  border: 3px inset #fff;\n  box-shadow: none;\n}\n\n#project-container {\n  flex: 1;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.project-card {\n  background: #e0e0e0;\n  border: 2px outset #fff;\n  padding: 16px 20px;\n  color: #000;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-size: 12px;\n  text-align: left;\n  margin-bottom: 10px;\n}\n\n.project-card:hover {\n  background: #000080;\n  border: 2px outset #fff;\n  color: #fff;\n}\n\n.task-side {\n  padding: 30px 20px;\n  background: #008080;\n}\n\n.task-card {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 20px 30px;\n  border-radius: 0;\n  background: #c0c0c0;\n  border: 3px outset #fff;\n}\n\n.task-card-content p {\n  font-size: 16px;\n  margin-bottom: 5px;\n}\n\n.task-card-content > .task-title {\n  font-size: 24px;\n  margin-bottom: 10px;\n}\n\n.task-priority {\n  padding: 4px 12px;\n  font-size: 0.8em;\n  cursor: pointer;\n}\n\n#openBtn {\n  color: #000;\n  padding: 20px 30px;\n  border-radius: 0;\n  background: #c0c0c0;\n  border: 3px outset #fff;\n  transition: all 0.1s ease-in-out;\n  margin-bottom: 20px;\n  font-size: 26px;\n  font-weight: 500;\n  cursor: pointer;\n}\n\n#openBtn:hover {\n  background-color: #000080;\n  color: #fff;\n  border: 3px outset #fff;\n}\n\n#openBtn:active {\n  background-color: #000080;\n  transform: translateY(2px);\n  border: 3px inset #fff;\n}\n\n.task-checkbox-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 16px;\n}\n\n.trash-icon {\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  opacity: 0.7;\n  cursor: pointer;\n  filter: invert(0%);\n}\n\n.trash-icon:hover {\n  transform: scale(1.1);\n}\n\n.trash-icon:active {\n  transform: translateY(0);\n}\n\n.task-checkbox {\n  appearance: none;\n  width: 22px;\n  height: 22px;\n  border: 2px inset #fff;\n  border-radius: 0;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.task-checkbox:hover {\n  border-color: #000080;\n  box-shadow: none;\n}\n\n.task-checkbox:checked {\n  background-color: #000080;\n  border-color: #000080;\n}\n\n.popup,\n.projectPopup {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  transition: all 0.2s ease-in-out;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n}\n\n.popup.open,\n.projectPopup.open {\n  display: flex;\n  flex-direction: column;\n}\n\n.popup-content {\n  background: #c0c0c0;\n  border: 3px outset #fff;\n  border-radius: 0;\n  padding: 30px;\n  width: 90%;\n  max-width: 500px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  background: #c0c0c0;\n  border: 3px outset #fff;\n  padding: 2rem;\n  gap: 1rem;\n  font-size: 1.2rem;\n  border-radius: 0;\n}\n\nform input {\n  padding: 0.3rem;\n}\n\n#taskForm input[type="checkbox"] {\n  width: 1em;\n  height: 1em;\n  border: 2px inset #fff;\n  border-radius: 0;\n  cursor: pointer;\n}\n\nform > button {\n  border: 3px outset #fff;\n  padding: 12px 24px;\n  border-radius: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-top: 10px;\n  background: #c0c0c0;\n  color: #000;\n}\n\n#newTask,\n#newProject {\n  background: #c0c0c0;\n  color: #000;\n}\n\n#newTask:hover,\n#newProject:hover {\n  background: #000080;\n  color: #fff;\n  transform: translateY(-2px);\n  border: 3px outset #fff;\n}\n\n#newTask:active,\n#newProject:active {\n  background: #000080;\n  transform: translateY(0);\n  border: 3px inset #fff;\n}\n\n#closeTask,\n#closeProject {\n  background: #c0c0c0;\n  color: #000;\n}\n\n#closeTask:hover,\n#closeProject:hover {\n  background: #000080;\n  color: #fff;\n  transform: translateY(-2px);\n  border: 3px outset #fff;\n}\n\n#closeTask:active,\n#closeProject:active {\n  background: #000080;\n  transform: translateY(0);\n  border: 3px inset #fff;\n}\n\n.active-project {\n  border: 3px solid #000080;\n}\n\n.footer {\n  border-top: 3px ridge #fff;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  padding: 10px;\n  background: #c0c0c0;\n  padding: 1rem;\n  font-size: 14px;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\na:hover {\n  text-decoration: underline;\n  color: #000080;\n}\n',""]);const c=i},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="/todo-list/",n.nc=void 0;var o=n(72),r=n.n(o),s=n(825),i=n.n(s),c=n(659),a=n.n(c),d=n(56),p=n.n(d),l=n(540),u=n.n(l),h=n(113),f=n.n(h),m=n(365),g={};g.styleTagTransform=f(),g.setAttributes=p(),g.insert=a().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=u(),r()(m.A,g),m.A&&m.A.locals&&m.A.locals;const y="projects";class v{constructor(t,e,n,o,r){if(!new.target)throw Error("You must use the 'new operator to call the constructor");this.id=crypto.randomUUID(),this.title=t,this.description=e,this.date=n,this.priority=o,this.done=r}changePriority(){const t=["Low","Medium","High"],e=(t.indexOf(this.priority)+1)%t.length;this.priority=t[e]}}class x{constructor(t){if(!new.target)throw Error("You must use the 'new operator to call the constructor");this.id=crypto.randomUUID(),this.title=t,this.#t=[],this.tasks=[]}#t;addTask(t){this.#t.push(t)}getTasks(){return[...this.#t]}deleteTask(t){const e=this.#t.findIndex(e=>e.id===t);return-1!==e&&(this.#t.splice(e,1),!0)}changePriority(t){const e=this.#t.find(e=>e.id===t);return!!e&&(e.changePriority(),!0)}toJSON(){return{id:this.id,title:this.title,tasks:this.#t.map(t=>({id:t.id,title:t.title,description:t.description,date:t.date,priority:t.priority,done:t.done}))}}static fromJSON(t){const e=new x(t.title);return e.id=t.id,t.tasks&&Array.isArray(t.tasks)&&t.tasks.forEach(t=>{const n=new v(t.title,t.description,t.date,t.priority,t.done);n.id=t.id,e.#t.push(n)}),e}}const b=n.p+"bcf8d6ff346603c8a51a.svg",j=(Math.pow(10,8),Symbol.for("constructDateFrom"));function k(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&j in t?t[j](e):t instanceof Date?new t.constructor(e):new Date(e)}function w(t,...e){const n=k.bind(null,t||e.find(t=>"object"==typeof t));return e.map(n)}function P(t,e){return k(e||t,t)}function E(t){const e=P(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function T(t,e){const n=P(t,e?.in);return n.setHours(0,0,0,0),n}function L(t,e,n){const[o,r]=w(n?.in,t,e),s=I(o,r),i=Math.abs(function(t,e,n){const[o,r]=w(n?.in,t,e),s=T(o),i=T(r),c=+s-E(s),a=+i-E(i);return Math.round((c-a)/864e5)}(o,r));o.setDate(o.getDate()-s*i);const c=s*(i-Number(I(o,r)===-s));return 0===c?0:c}function I(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function S(t){const e=document.getElementById("todo-container");e&&(e.innerHTML="",t.forEach(t=>{const n=document.createElement("div");n.className="task-card",n.dataset.id=t.id;const o=document.createElement("div");o.className="task-card-content";const r=document.createElement("p");r.className="task-title",r.textContent=t.title,o.appendChild(r);const s=document.createElement("p");s.className="task-description",s.textContent=t.description,o.appendChild(s);const i=t.date,c=document.createElement("p");c.className="task-details",c.textContent=`${function(t){const e=L(t,new Date);return+P(t)<Date.now()?`Overdue by ${Math.abs(e)} days`:0===e?"Due today!":1===e?"Due tomorrow":`Due in ${e} days`}(i)}`,o.appendChild(c);const a=document.createElement("span");a.className="task-priority",a.textContent=`Priority: ${t.priority}`,o.appendChild(a),n.appendChild(o),a.style.backgroundColor={Low:"#55AA55",Medium:"#FFAA00",High:"#C00000"}[t.priority];const d=document.createElement("div");d.className="task-checkbox-wrapper";const p=document.createElement("img");p.src=b,p.className="trash-icon";const l=document.createElement("input");l.type="checkbox",l.checked=t.done,l.className="task-checkbox",d.appendChild(l),d.appendChild(p),n.appendChild(d),e.appendChild(n)}))}function B(t,e=null){const n=document.getElementById("project-container");n&&(n.innerHTML="",t.forEach(t=>{const o=document.createElement("div");o.className="project-card",o.dataset.id=t.id,t.id===e&&o.classList.add("active-project");const r=document.createElement("div");r.className="project-card-content";const s=document.createElement("h2");s.className="project-title",s.textContent=t.title,r.appendChild(s),o.appendChild(r),n.appendChild(o)}))}class C{constructor(t,e){this.list=t,this.taskController=e,this.activeProjectId=null,this.newProjectBtn=document.getElementById("newProjectBtn"),this.projectPopup=document.getElementById("projectPopup"),this.newProject=document.getElementById("newProject"),this.closeProject=document.getElementById("closeProject"),this.projectForm=document.getElementById("projectForm"),this.bindEvents()}bindEvents(){this.newProjectBtn&&this.newProjectBtn.addEventListener("click",()=>{this.projectPopup.classList.add("open"),this.projectForm.reset()}),this.closeProject.addEventListener("click",t=>{this.projectPopup.classList.remove("open"),t.preventDefault()}),this.projectForm.addEventListener("submit",t=>{this.handleProjectSubmit(t)}),document.getElementById("project-container").addEventListener("click",t=>{t.target.closest(".project-card")&&this.handleLastProject(t)})}handleProjectSubmit(t){t.preventDefault();const e=document.getElementById("projectTitle").value;this.list.addProject(new x(e)),B(this.list.getProjects(),this.activeProjectId),this.projectPopup.classList.remove("open"),this.projectForm.reset()}handleLastProject(t){const e=t.target.closest(".project-card").dataset.id,n=this.list.getProjects().find(t=>t.id===e);this.activeProjectId=e,B(this.list.getProjects(),this.activeProjectId),this.taskController.setProject(n),S(n.getTasks())}}class M{constructor(t,e){this.project=t,this.projectList=e,this.openBtn=document.getElementById("openBtn"),this.newTask=document.getElementById("newTask"),this.popup=document.getElementById("popup"),this.closeTask=document.getElementById("closeTask"),this.taskForm=document.getElementById("taskForm"),this.bindEvents()}setProject(t){this.project=t}setProjectList(t){this.projectList=t}bindEvents(){this.openBtn&&this.openBtn.addEventListener("click",()=>{this.popup.classList.add("open"),this.taskForm.reset()}),this.closeTask.addEventListener("click",t=>{this.popup.classList.remove("open"),t.preventDefault()}),this.taskForm.addEventListener("submit",t=>{this.handleTaskSubmit(t)}),document.getElementById("todo-container").addEventListener("click",t=>{t.target.matches(".trash-icon")&&this.handleTaskDelete(t)}),document.getElementById("todo-container").addEventListener("click",t=>{t.target.matches(".task-priority")&&(this.handlePriority(t),this.projectList&&this.projectList.saveToStorage())})}handleTaskSubmit(t){t.preventDefault();const e=document.getElementById("title").value,n=document.getElementById("description").value,o=document.getElementById("date").value,r=document.getElementById("priority-select").value,s=document.getElementById("done").checked;this.project.addTask(new v(e,n,o,r,s)),this.projectList&&this.projectList.saveToStorage(),S(this.project.getTasks()),this.popup.classList.remove("open"),this.taskForm.reset()}handleTaskDelete(t){const e=t.target.closest(".task-card").dataset.id;this.project.deleteTask(e),this.projectList&&this.projectList.saveToStorage(),S(this.project.getTasks())}handlePriority(t){const e=t.target.closest(".task-card").dataset.id;this.project.changePriority(e),this.projectList&&this.projectList.saveToStorage(),S(this.project.getTasks())}}const D=new class{constructor(){this.#e=[],this.loadFromStorage()}#e;addProject(t){return this.#e.push(t),this.saveToStorage(),t}getProjects(){return[...this.#e]}getProjectById(t){return this.#e.find(e=>e.id===t)}saveToStorage(){try{const t=this.#e.map(t=>t.toJSON());localStorage.setItem(y,JSON.stringify(t))}catch(t){console.log("error saving to localStorage")}}loadFromStorage(){try{const t=localStorage.getItem(y);if(t){const e=JSON.parse(t);this.#e=e.map(t=>x.fromJSON(t))}}catch(t){console.log("error loading from localStorage")}}clearStorage(){localStorage.removeItem(y),this.#e=[]}};let F=D.getProjects();if(0===F.length){const t=new x("Daily"),e=new x("Weekly"),n=new x("Monthly");D.addProject(t),D.addProject(e),D.addProject(n),B(F,t.id);const o=document.querySelector(".project-card");o&&o.classList.add("active-project");const r=new v("Finish novel","Read chapters 15-20 of 'Misery'","2025-12-30","Low",!1),s=new v("Deploy to production","Final deployment.","2025-12-26","Medium",!1),i=new v("Call mom","It's her birthday!","2025-12-15","High",!0);t.addTask(r),t.addTask(s),t.addTask(i)}if(D.saveToStorage(),F=D.getProjects(),F.length>0){const t=F[0];B(F,t.id);const e=document.querySelector(".project-card");e&&e.classList.add("active-project"),S(t.getTasks()),new C(D,new M(t,D)).activeProjectId=t.id}else B(F),new C(D,new M(firstProject,D))})();